pipeline:
  inputs:
    username:
      type: string
      default: ubuntu
    password:
      type: string

  clone:
    depth: 50

  env:
    GOOS: linux

  environment: prod

  stages:
  - steps:
    - go build
    - run: go build
    - run:
        container: golang
        script: go build
    - run:
        container:
          image: golang
          pull: if-not-exists
        script:
        - go build
        - go test

